const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/p5-Ke5MdNXW.js","assets/vendor-BPGUGuwv.js"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-BzRICCdk.js";import{r as t,u as s,d as o,L as i,O as r}from"./vendor-BPGUGuwv.js";import{u as n,_ as a}from"./index-BckMnury.js";import{T as l}from"./three-8TAZIypC.js";import{E as c}from"./external-link-OzaOOMHA.js";import"./animation-CwgPdEP7.js";function h(){const[e,s]=t.useState(void 0);return t.useEffect((()=>{const e=window.matchMedia("(max-width: 767px)"),t=()=>{s(window.innerWidth<768)};return e.addEventListener("change",t),s(window.innerWidth<768),()=>e.removeEventListener("change",t)}),[]),!!e}Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)};const d=e=>"number"==typeof e?"#"+("00000"+e.toString(16)).slice(-6):e,u=(e,t=1)=>{const s=d(e),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s),i=o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null;return"rgba("+i.r+","+i.g+","+i.b+","+t+")"};function p(e){for(;e.children&&e.children.length>0;)p(e.children[0]),e.remove(e.children[0]);e.geometry&&e.geometry.dispose(),e.material&&(Object.keys(e.material).forEach((t=>{e.material[t]&&null!==e.material[t]&&"function"==typeof e.material[t].dispose&&e.material[t].dispose()})),e.material.dispose())}const m="object"==typeof window;let f=m&&window.THREE||{};m&&!window.VANTA&&(window.VANTA={});const g=m&&window.VANTA||{};g.register=(e,t)=>g[e]=e=>new t(e),g.version="0.5.24";const y=function(){Array.prototype.unshift.call(arguments,"[VANTA]")};g.VantaBase=class{constructor(e={}){if(!m)return!1;g.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const t="function"==typeof this.getDefaultOptions?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},t),(e instanceof HTMLElement||"string"==typeof e)&&(e={el:e}),Object.assign(this.options,e),this.options.THREE&&(f=this.options.THREE),this.el=this.options.el,null==this.el)y('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const e=this.el;if(this.el=(s=e,document.querySelector(s)),!this.el)return void y("Cannot find element",e)}var s;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(i){return y("Init error",i),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(this.el.style.background=d(this.options.backgroundColor)))}this.initMouse(),this.resize(),this.animationLoop();const o=window.addEventListener;o("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(o("scroll",this.windowMouseMoveWrapper),o("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(o("touchstart",this.windowTouchWrapper),o("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&o("deviceorientation",this.windowGyroWrapper)}setOptions(e={}){Object.assign(this.options,e),this.triggerMouseMove()}prepareEl(){let e,t;if("undefined"!=typeof Node&&Node.TEXT_NODE)for(e=0;e<this.el.childNodes.length;e++){const t=this.el.childNodes[e];if(t.nodeType===Node.TEXT_NODE){const e=document.createElement("span");e.textContent=t.textContent,t.parentElement.insertBefore(e,t),t.remove()}}for(e=0;e<this.el.children.length;e++)t=this.el.children[e],"static"===getComputedStyle(t).position&&(t.style.position="relative"),"auto"===getComputedStyle(t).zIndex&&(t.style.zIndex=1);"static"===getComputedStyle(this.el).position&&(this.el.style.position="relative")}applyCanvasStyles(e,t={}){Object.assign(e.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),this.options.pixelated&&(e.style.imageRendering="pixelated"),Object.assign(e.style,t),e.classList.add("vanta-canvas")}initThree(){f.WebGLRenderer&&(this.renderer=new f.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new f.Scene)}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const e=this.getCanvasElement();return!!e&&e.getBoundingClientRect()}windowMouseMoveWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const s=e.clientX-t.left,o=e.clientY-t.top;s>=0&&o>=0&&s<=t.width&&o<=t.height&&(this.mouseX=s,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(s,o))}windowTouchWrapper(e){const t=this.getCanvasRect();if(!t)return!1;if(1===e.touches.length){const s=e.touches[0].clientX-t.left,o=e.touches[0].clientY-t.top;s>=0&&o>=0&&s<=t.width&&o<=t.height&&(this.mouseX=s,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(s,o))}}windowGyroWrapper(e){const t=this.getCanvasRect();if(!t)return!1;const s=Math.round(2*e.alpha)-t.left,o=Math.round(2*e.beta)-t.top;s>=0&&o>=0&&s<=t.width&&o<=t.height&&(this.mouseX=s,this.mouseY=o,this.options.mouseEase||this.triggerMouseMove(s,o))}triggerMouseMove(e,t){void 0===e&&void 0===t&&(this.options.mouseEase?(e=this.mouseEaseX,t=this.mouseEaseY):(e=this.mouseX,t=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=e/this.scale,this.uniforms.iMouse.value.y=t/this.scale);const s=e/this.width,o=t/this.height;"function"==typeof this.onMouseMove&&this.onMouseMove(s,o)}setSize(){this.scale||(this.scale=1),"undefined"!=typeof navigator&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600)&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,"function"==typeof this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),"function"==typeof this.onResize&&this.onResize()}isOnScreen(){const e=this.el.offsetHeight,t=this.el.getBoundingClientRect(),s=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,o=t.top+s;return o-window.innerHeight<=s&&s<=o+e}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const e=performance.now();if(this.prevNow){let t=(e-this.prevNow)/(1e3/60);t=Math.max(.2,Math.min(t,5)),this.t+=t,this.t2+=(this.options.speed||1)*t,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=e,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&("function"==typeof this.onUpdate&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),"function"==typeof this.afterRender&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);"function"==typeof this.onRestart&&this.onRestart(),this.init()}init(){"function"==typeof this.onInit&&this.onInit()}destroy(){"function"==typeof this.onDestroy&&this.onDestroy();const e=window.removeEventListener;e("touchstart",this.windowTouchWrapper),e("touchmove",this.windowTouchWrapper),e("scroll",this.windowMouseMoveWrapper),e("mousemove",this.windowMouseMoveWrapper),e("deviceorientation",this.windowGyroWrapper),e("resize",this.resize),window.cancelAnimationFrame(this.req);const t=this.scene;t&&t.children&&p(t),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),g.current===this&&(g.current=null)}};const w=g.VantaBase;let x="object"==typeof window&&window.p5;class v extends w{constructor(e){x=e.p5||x,super(e),this.mode="p5"}initP5(e){const t=this,s=e.createCanvas(t.width,t.height);s.parent(t.el),t.applyCanvasStyles(e.canvas,{background:d(t.options.backgroundColor)}),t.p5renderer=s,t.p5canvas=e.canvas,t.p5=e}restart(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.restart()}destroy(){this.p5&&"object"==typeof this.p5&&this.p5.remove(),super.destroy()}resize(){super.resize(),this.p5&&this.p5.resizeCanvas&&this.p5.resizeCanvas(this.width,this.height)}}let b="object"==typeof window&&window.p5;class E extends v{static initClass(){this.prototype.p5=!0,this.prototype.defaultOptions={color:9016910,backgroundColor:8738}}constructor(e){b=e.p5||b,super(e)}onInit(){const e=this;new b((function(t){let s=e.width,o=e.height,i=.003,r=(s+0)/10,n=(o+0)/10,a=[],l=e.options.particleCount||4500,c=[],h=0;function d(e,s,o){let i=0,r=1,n=t.createVector(0,0),a=t.createVector(0,0);for(let c=0;c<100;c++){let l=c/100*t.TAU,h=t.createVector(e+t.cos(l)*o,s+t.sin(l)*o),d=t.noise(h.x,h.y);d>i&&(i=d,n.x=h.x,n.y=h.y),d<r&&(r=d,a.x=h.x,a.y=h.y)}let l=t.createVector(a.x-n.x,a.y-n.y);return l.normalize().mult(i-r),l}function p(e,s){e=t.constrain(e,-0,t.width+0),s=t.constrain(s,-0,t.height+0);let o=t.floor((e+0)/10),i=t.floor((s+0)/10);return o=t.constrain(o,0,a[0].length-1),i=t.constrain(i,0,a.length-1),a[i][o]}t.setup=function(){e.initP5(t),t.smooth(),t.noStroke(),function(){for(let e=0;e<l;e++){let s=t.random(t.width),o=t.random(t.height);c.push({prev:t.createVector(s,o),pos:t.createVector(s,o),vel:t.createVector(0,0),acc:t.createVector(0,0),seed:e,life:t.random(.8,1)})}}(),function(){for(let e=0;e<n;e++){let t=[];for(let s=0;s<r;s++)t.push(d(s*i,e*i,.15));a.push(t)}}()},t.draw=function(){t.translate(-0,-0),function(){for(let e=0;e<l;e++){let s=c[e];if(s.life-=.001,s.life<=0||s.pos.x<0||s.pos.x>t.width||s.pos.y<0||s.pos.y>t.height){t.random()>.5?(s.pos.x=t.random()>.5?0:t.width,s.pos.y=t.random(t.height)):(s.pos.x=t.random(t.width),s.pos.y=t.random()>.5?0:t.height),s.prev.x=s.pos.x,s.prev.y=s.pos.y,s.vel=t.createVector(0,0),s.acc=t.createVector(0,0),s.life=t.random(.8,1);continue}let o=p(s.pos.x,s.pos.y);s.prev.x=s.pos.x,s.prev.y=s.pos.y;let i=t.noise(.01*s.seed,h)*t.TAU,r=t.createVector(.2*t.cos(i),.2*t.sin(i));s.pos.x+=s.vel.x+r.x,s.pos.y+=s.vel.y+r.y,s.vel.add(s.acc).normalize().mult(2.5),s.acc=t.createVector(0,0),s.acc.add(o).mult(3)}}(),function(){t.strokeWeight(e.options.particleSize||1);for(let s=0;s<c.length;s++){let o=.05*c[s].life,i=u(e.options.color,o);t.stroke(i),t.line(c[s].prev.x,c[s].prev.y,c[s].pos.x,c[s].pos.y)}}(),h+=.005}}))}}E.initClass();const M=g.register("TOPOLOGY",E),j={dark:{info:{background:657930,foreground:7052738},contact:{background:657930,foreground:12092511},stack:{background:657930,foreground:8101979},projects:{background:657930,foreground:12080208},publications:{background:657930,foreground:9137052},books:{background:657930,foreground:11047028}},light:{info:{background:16316922,foreground:4877189},contact:{background:16316922,foreground:10251079},stack:{background:16316922,foreground:5929546},projects:{background:16316922,foreground:10246746},publications:{background:16316922,foreground:7035514},books:{background:16316922,foreground:8022874}}};let k=null;const C=t.memo((({activeSection:s="info"})=>{const{theme:o}=n(),i=h(),r=t.useRef(null),c=t.useRef(null),[d,u]=t.useState(!1),p=t.useRef(o),m=t.useRef(s);return t.useEffect((()=>{let e=!0;if("undefined"==typeof window||k)"undefined"!=typeof window&&(window.THREE=l,k&&u(!0));else{window.THREE=l;(async()=>{try{const t=await a((()=>import("./p5-Ke5MdNXW.js").then((e=>e.p))),__vite__mapDeps([0,1]));e&&(k=t.default,u(!0))}catch(t){}})()}return()=>{if(e=!1,c.current){try{c.current.destroy()}catch(t){}c.current=null}}}),[]),t.useEffect((()=>{o!==p.current&&c.current&&(c.current.destroy(),c.current=null),p.current=o}),[o]),t.useEffect((()=>{if(!r.current||!d)return;const e=j[o],t=e[s]||e.info,n=t.background,a=t.foreground,l=i?600:1200,h=i?1.4:1.2,u=i?.008:.006,p=i?1.8:1.2;if(c.current&&c.current.el&&c.current.el.parentNode){if(s!==m.current)try{c.current.setOptions({color:a,backgroundColor:n})}catch(f){}}else{if(c.current){try{c.current.destroy()}catch(f){}c.current=null}try{c.current=M({el:r.current,p5:k,mouseControls:!1,touchControls:!1,gyroControls:!1,minHeight:0,minWidth:0,scale:p,scaleMobile:2,color:a,backgroundColor:n,speed:1.3,particleCount:l,particleSize:h,flowCellSize:i?6:10,noiseSize:u,noiseRadius:.15,colorMode:"variance",colorVariance:.25,pulseIntensity:.06,pulseSpeed:.6,offset:.1})}catch(f){}}m.current=s}),[d,o,s,i]),e.jsx("div",{ref:r,className:"fixed top-0 left-0 w-full h-full -z-10 opacity-70 will-change-transform topology-effect-container","aria-hidden":"true",style:{transform:"translate3d(0,0,0)",backfaceVisibility:"hidden",mixBlendMode:"normal",filter:i?"contrast(1.2) brightness(1.3)":"contrast(1.4) brightness(1.5)",padding:"56px"}})}));C.displayName="TopologyEffect";const N=[{id:"info",title:"Info"},{id:"contact",title:"Contact"},{id:"stack",title:"Stack"},{id:"projects",title:"Projects"},{id:"publications",title:"Publications"},{id:"books",title:"Book Recs."}],T=()=>{const a=s(),l=o(),[d,u]=t.useState("info"),[p,m]=t.useState(null),[f,g]=t.useState(!1),[y,w]=t.useState(0),x=t.useRef({}),v=t.useRef({});t.useRef(null),n();const b=h(),E=t.useRef(!1),M=t.useMemo((()=>d),[d]),j=t.useCallback((e=>{if(!f&&e!==d){if(g(!0),b&&p){const e=x.current[p];e&&(e.style.display="none")}a(`/${e}`),setTimeout((()=>{g(!1)}),300)}}),[d,f,a,p,b]);t.useEffect((()=>{const e=l.pathname.slice(1)||"info";E.current&&"blog"!==e&&(w((e=>e+1)),E.current=!1),"/blog"===l.pathname&&(E.current=!0),e!==d&&(m(d),u(e))}),[l,d]),t.useEffect((()=>{const e=v.current[d];if(e){const t="rgba(200, 200, 200, 0.5)";return e.style.boxShadow=`0 0 6px 1px ${t}`,()=>{e&&(e.style.boxShadow="none")}}}),[d]),t.useEffect((()=>{const e=x.current[d];if(!e)return;if(Object.entries(x.current).forEach((([e,t])=>{e!==d&&t&&(t.style.display="none",t.style.opacity="0")})),!p)return e.style.opacity="1",e.style.transform="translateY(0px)",void(e.style.display="block");g(!0),e.style.opacity="0",e.style.transform=b?"translateY(0px)":"translateY(3px)",e.style.display="block",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0px)";const t=()=>{g(!1)};e.addEventListener("transitionend",t);const s=setTimeout(t,300);return()=>{e.removeEventListener("transitionend",t),clearTimeout(s)}}),[d,p,b]);const k=t.useMemo((()=>e.jsx(C,{activeSection:M},y)),[M,y]);return e.jsxs("div",{className:"min-h-screen flex flex-col p-4 md:p-8",children:[k,!b&&e.jsxs("div",{className:"fixed right-8 top-1/2 -translate-y-1/2 z-50 flex flex-col gap-4 items-end",children:[e.jsxs(i,{to:"/blog",className:"group flex items-center gap-2 px-3 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/20 hover:border-primary/40 rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-primary/20",children:[e.jsx("span",{className:"text-xs font-medium text-primary",children:"Blog"}),e.jsx(c,{className:"w-3 h-3 text-primary group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-300"})]}),e.jsx("div",{className:"flex flex-col gap-6 items-end",children:N.map((t=>e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>j(t.id),className:"group flex items-center gap-2 focus:outline-none "+(f?"pointer-events-none opacity-70":""),disabled:f,children:[e.jsx("div",{ref:e=>v.current[t.id]=e,className:"relative flex items-center justify-center h-3 w-3 rounded-full transition-colors duration-200 "+(t.id===d?"bg-foreground shadow-md":"bg-muted-foreground/30 group-hover:bg-foreground/60"),style:{transform:"translateZ(0)"}}),e.jsx("span",{className:"text-xs tracking-wide transition-colors duration-200 "+(t.id===d?"text-foreground font-semibold drop-shadow-sm":"text-muted-foreground/70 group-hover:text-foreground/90 group-hover:font-medium"),children:t.title})]}),t.id===d&&e.jsx("div",{ref:e=>x.current[t.id]=e,className:"content-container glass-panel mt-6 w-80 pr-6 will-change-transform transition-all duration-300",style:{opacity:0,transform:"translateZ(0)",display:"block"},children:e.jsx("div",{className:"p-4",children:e.jsx(r,{})})})]},t.id)))})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-6 right-6 z-50",children:e.jsxs(i,{to:"/blog",className:"group flex items-center gap-2 px-3 py-2 bg-primary/10 hover:bg-primary/20 border border-primary/20 hover:border-primary/40 rounded-lg transition-all duration-300 backdrop-blur-sm",children:[e.jsx("span",{className:"text-xs font-medium text-primary",children:"Blog"}),e.jsx(c,{className:"w-3 h-3 text-primary group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform duration-300"})]})}),e.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 px-4",children:e.jsx("div",{className:"flex flex-row justify-center mx-auto",children:e.jsx("div",{className:"menu-glass py-1.5 px-2 rounded-full shadow-md flex items-center gap-1.5 sm:gap-3 border border-border/30 max-w-full overflow-x-auto",style:{transform:"translateZ(0)"},children:N.map((t=>e.jsxs("button",{onClick:()=>j(t.id),className:"group flex flex-col items-center gap-1 py-1 px-0.5 sm:px-1 focus:outline-none flex-shrink-0 "+(f?"pointer-events-none opacity-70":""),disabled:f,children:[e.jsx("div",{ref:e=>v.current[t.id]=e,className:"relative h-2 w-2 sm:h-2.5 sm:w-2.5 rounded-full transition-colors duration-200 "+(t.id===d?"bg-foreground shadow-md":"bg-muted-foreground/30 group-hover:bg-foreground/60")}),e.jsx("span",{className:"text-[10px] sm:text-xs tracking-tight transition-colors duration-200 whitespace-nowrap "+(t.id===d?"text-foreground font-semibold drop-shadow-sm":"text-muted-foreground/70 group-hover:text-foreground/90 group-hover:font-medium"),children:t.title})]},t.id)))})})}),e.jsx("div",{className:"p-4 sm:p-6 md:p-8 w-full pb-24",children:N.map((t=>e.jsx("div",{ref:e=>x.current[t.id]=e,className:"content-container glass-panel p-4 w-full mb-4 will-change-transform transition-all duration-300",style:{opacity:0,transform:"translateZ(0)",display:t.id===d?"block":"none"},children:e.jsx(r,{})},t.id)))})]})]})};export{T as default};
